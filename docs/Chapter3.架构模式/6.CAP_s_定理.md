# CAP 定理

CAP 定理是计算机科学中最著名的术语之一，但我敢打赌不同的开发人员对它有不同的理解。让我们来看看它是什么，以及为什么会令人困惑。![](../images/cap%20theorem.jpeg)CAP 定理指出，分布式系统无法同时提供这三个保证中的两个以上。**一致性**: 一致性意味着所有客户端无论连接到哪个节点，都会在同一时间看到相同的数据。**可用性**: 可用性意味着任何请求数据的客户端都会收到响应，即使其中一些节点宕机。**分区容忍性**：分区表示两个节点之间的通信中断。分区容忍性意味着系统在网络分区的情况下继续运行。“2 of 3” 公式可能有用，**但这种简化可能会误导**。选择数据库并不容易。仅仅基于 CAP 定理来证明我们的选择是不够的。例如，公司不会仅仅因为 Cassandra 是一个 AP 系统就选择它作为聊天应用程序。Cassandra 有一系列优点，使其成为存储聊天消息的理想选择。我们需要深入挖掘。“CAP 仅禁止设计空间的一小部分：在存在分区的情况下实现完美的可用性和一致性，这种情况很少见。”引自论文：CAP 十二年后： “规则”如何改变。该定理涉及 100%的可用性和一致性。更现实的讨论应该是在没有网络分区时延迟和一致性之间的权衡。有关更多详细信息，请参阅 PACELC 定理。**  
CAP 定理实际上有用吗？**我认为这仍然是有用的，因为它让我们对一系列权衡讨论有了开放的思路，但这只是故事的一部分。在选择正确的数据库时，我们需要深入挖掘。