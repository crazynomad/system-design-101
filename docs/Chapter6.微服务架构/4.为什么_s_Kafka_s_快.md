# 为什么 Kafka 快

有许多设计决策对 Kafka 的性能有所贡献。在本文中，我们将重点关注两个。我们认为这两个决策起到了最重要的作用。![](images/why_is_kafka_fast.jpeg)第一个是卡夫卡对顺序 I/O 的依赖。Kafka 获得性能优势的第二个设计选择是其专注于效率：零拷贝原则。该图解释了数据是如何在生产者和消费者之间传输的，以及零拷贝的含义。步骤 1.1 - 1.3：生产者将数据写入磁盘步骤 2：消费者在没有零拷贝的情况下读取数据2.1 数据从磁盘加载到操作系统缓存2.2 数据从操作系统缓存复制到 Kafka 应用程序2.3 Kafka 应用程序将数据复制到套接字缓冲区2.4 数据从套接字缓冲区复制到网络卡2.5 网卡将数据发送给消费者第三步：消费者使用零拷贝读取数据3.1：数据从磁盘加载到操作系统缓存 3.2 操作系统缓存通过 sendfile()命令直接将数据复制到网络卡 3.3 网络卡将数据发送给消费者零拷贝是在应用程序上下文和内核上下文之间保存多个数据副本的快捷方式。