YouTube、TikTok 直播或 Twitch 上的视频直播是如何运作的？直播流与常规流媒体不同，因为视频内容是通过互联网实时发送的，通常延迟仅为几秒钟。下面的图表解释了幕后发生的事情，使这一切成为可能。![](../images/live_streaming_updated.jpg)第一步：原始视频数据由麦克风和摄像头捕获。数据被发送到服务器端。第 2 步：视频数据被压缩和编码。例如，压缩算法将背景和其他视频元素分开。压缩后，视频被编码为诸如 H.264 之类的标准。在这一步之后，视频数据的大小要小得多。第三步：编码数据被分成较小的片段，通常以秒为单位，因此下载或流媒体所需的时间大大缩短。第四步：分段数据被发送到流媒体服务器。流媒体服务器需要支持不同的设备和网络条件。这被称为“自适应比特率流媒体”。这意味着我们需要在第 2 步和第 3 步中以不同比特率生成多个文件。第 5 步：直播流数据被推送到由 CDN（内容传送网络）支持的边缘服务器。数百万观众可以从附近的边缘服务器观看视频。CDN 显著降低数据传输延迟。第 6 步：观众的设备解码和解压视频数据，并在视频播放器中播放视频。步骤 7 和 8：如果视频需要存储以供重播，编码数据将被发送到存储服务器，观众可以随后从中请求重播。直播的标准协议包括：RTMP（Real-Time Messaging Protocol）：最初由 Macromedia 开发，用于在 Flash 播放器和服务器之间传输数据。现在它被用于在互联网上流式传输视频数据。请注意，视频会议应用程序如 Skype 使用 RTC（实时通信）协议以实现更低的延迟。HLS（HTTP Live Streaming）：它需要 H.264 或 H.265 编码。苹果设备仅接受 HLS 格式。DASH（Dynamic Adaptive Streaming over HTTP）：DASH 不支持苹果设备。HLS 和 DASH 都支持自适应比特率流媒体。