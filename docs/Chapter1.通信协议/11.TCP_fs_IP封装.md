# TCP/IP封装


数据是如何通过网络发送的？为什么在OSI模型中需要这么多层？

下面的图表展示了数据在网络上传输时的封装和解封装过程。

<p> <img src="../images/osi model.jpeg" /> </p>

第1步：当设备A通过HTTP协议向设备B发送数据时，首先在应用层添加一个HTTP头。

第2步：然后在数据上添加TCP或UDP头。数据在传输层封装为TCP段。头部包含源端口、目标端口和序列号。

第3步：然后在网络层将段封装为IP头。IP头中包含源/目标IP地址。

第4步：在数据链路层，IP数据报文添加一个MAC头，包括源/目标MAC地址。

第5步：封装过的帧被发送到物理层，并以二进制位的形式通过网络发送。

步骤6-10：当设备B从网络接收位时，它执行去封装过程，这是一种封装过程的逆向处理。头部逐层被移除，最终，设备B可以读取数据。

我们在网络模型中需要分层，因为每一层关注自身的责任。每一层可以依赖于头部的处理指令，而无需知晓来自上一层数据的意义。