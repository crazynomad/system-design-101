# API网关的作用是什么？


下面的图表展示了相关细节。

<p> <img src="../images/api_gateway.jpg" style="width: 520px" /> </p>

第1步 - 客户端向API网关发送HTTP请求。

第2步 - API网关解析并验证HTTP请求中的属性。

第3步 - API网关执行允许列表/拒绝列表检查。

第4步 - API网关与身份提供者进行身份验证和授权。

第5步 - 请求应用速率限制规则。如果超出限制，请求将被拒绝。

第6和第7步 - 现在请求已经通过基本检查，API网关通过路径匹配找到相关服务进行路由。

第8步 - API网关将请求转换为适当的协议，并将其发送到后端微服务。

第9到第12步：API网关可以正确处理错误，并在错误恢复需要更长时间时处理故障（电路断路器）。它还可以利用ELK（Elastic-Logstash-Kibana）堆栈用于日志记录和监控。我们有时会在API网关中缓存数据。