API 网关是做什么的？下面的图表显示了细节。![](images/api_gateway.jpg)步骤 1 - 客户端向 API 网关发送 HTTP 请求。第 2 步 - API 网关解析并验证 HTTP 请求中的属性。第三步 - API 网关执行允许列表/拒绝列表检查。第 4 步 - API 网关与身份提供者进行身份验证和授权交流。第 5 步 - 速率限制规则适用于请求。如果超过限制，请求将被拒绝。步骤 6 和 7 - 现在请求已经通过基本检查，API 网关通过路径匹配找到相关的服务进行路由。第 8 步 - API 网关将请求转换为适当的协议，并将其发送到后端微服务。步骤 9-12：API 网关可以正确处理错误，并在错误需要较长时间恢复时处理故障（断路器）。它还可以利用 ELK（Elastic-Logstash-Kibana）堆栈进行日志记录和监控。我们有时会在 API 网关中缓存数据。