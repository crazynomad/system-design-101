# gRPC 是如何工作的？

RPC（远程过程调用）之所以被称为“**远程**”，是因为在微服务架构下，当服务部署在不同服务器上时，它可以实现远程服务之间的通信。从用户的角度来看，它就像是一个本地函数调用。下面的图表说明了的整体数据流程。![](../images/grpc.jpg)步骤 1：客户端发起一个 REST 调用。请求体通常是 JSON 格式。步骤 2 - 4：订单服务（gRPC 客户端）接收 REST 调用，对其进行转换，并向支付服务发起 RPC 调用。gRPC 将**客户端存根**编码为二进制格式并将其发送到低级传输层。第 5 步：gRPC 通过 HTTP2 将数据包发送到网络。由于二进制编码和网络优化，据说 gRPC 比 JSON 快 5 倍。步骤 6 - 8：支付服务（gRPC 服务器）接收来自网络的数据包，解码它们，并调用服务器应用程序。步骤 9 - 11：结果从服务器应用程序返回，被编码并发送到传输层。步骤 12 - 14：订单服务接收数据包，解码数据，并将结果发送给客户端应用程序。