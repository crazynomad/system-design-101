# 如何提高API性能？


下图展示了改善API性能的五个常见技巧。

<p> <img src="../images/api-performance.jpg"> </p>

分页

这是在结果集较大时常见的优化。结果会流式返回给客户端，以提高服务响应能力。

异步日志记录

同步日志记录对于每个调用都要处理磁盘，这可能会降低系统速度。异步日志记录首先将日志发送到无锁缓冲区，并立即返回。日志将周期性地刷新到磁盘。这显著减少了I/O开销。

缓存

我们可以将频繁访问的数据存储在缓存中。客户端可以首先查询缓存，而不是直接访问数据库。如果缓存未命中，客户端可以查询数据库。像Redis这样的缓存将数据存储在内存中，因此数据访问速度远快于数据库。

负载压缩

请求和响应可以使用gzip等进行压缩，从而传输的数据大小大幅减少。这加快了上传和下载速度。

连接池

在访问资源时，我们通常需要从数据库中加载数据。打开和关闭数据库连接会增加显著的开销。因此，我们应该通过打开连接的池与数据库进行连接。连接池负责管理连接生命周期。